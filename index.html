<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="keywords" content="remark,remarkjs,markdown,slideshow,presentation" />
    <meta name="description" content="A simple, in-browser, markdown-driven slideshow tool." />
    <title>A Many Threaded CUDA Interpreter for Genetic Programming</title>
    <style>
      @font-face{
        font-family: 'Droid Serif';
        src: url('fonts/Droid_Serif/DroidSerif.ttf');
      }
      @font-face{
        font-family: 'Yanone Kaffeesatz';
        src: url('fonts/Yanone_Kaffeesatz/YanoneKaffeesatz-Regular.ttf');
      }
      @font-face{
        font-family: 'Ubuntu Mono';
        src: url('fonts/Ubuntu_Mono/UbuntuMono-Regular.ttf');
      }

      body {
        font-family: 'Droid Serif';
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

      class: center, middle, inverse
      name: inverse
      layout: true

      ---

      # A Many Threaded CUDA Interpreter for Genetic Programming
      William B. Langdon, 2010

      ---

      layout: false
      Agenda
      ======

      1. Abstract
      2. Background

        2.1 What is Reverse Polish Notation?
      3. asdf

      ---

      template:inverse
      Abstract
      ========


      ### The paper presents an **interpreter** for the parallel evaluation of the whole Genetic Programming population of reverse polish notation expressions

      ---

      layout: false
      Background
      ==========
      .left-column[
        ### What is Reverse Polish Notation?
      ]
      .right-column[
        * In RPN the operators follow their operands
            * For instance `3 + 4` is `3 4 +`


        * It removes the need for parentheses 
           * `5 * (3 - 4)` is converted to `5 3 4 - *`


        * Reverse Polish Notation has been found to lead to **faster** calculations

        * Interpreter algorithm:

        ```bash
        while there is input tokens
            if the token is a value
              push it into the stack
            else # the token is an operator
              # n is the number of args that the operator takes
              pop n values from the stack 
              evaluate the operator with the values as arguments
              push the result back to the stack
        ```
      ]

      ---

      Background
      ==========
      .left-column[
        ### What is Reverse Polish Notation?
        ### What is Genetic Programming?
      ]
      .right-column[
        * GP is a technique whereby computer programs are evolved using an **evolutionary algorithm**
            
        <img src="EvolutionaryAlgorithm.png" height="420"/>

      ]

      ---

      Background
      ==========
      .left-column[
        ### What is Reverse Polish Notation?
        ### What is Genetic Programming?
      ]
      .right-column[

        * Tree-based representation 


        * The **fitness** of each individual could be calculated independently in **parallel**
            
        <img src="Tree.png" height="380"/>

      ]

      ---

      Background
      ==========
      .left-column[
        ### What is Reverse Polish Notation?
        ### What is Genetic Programming?
        ### What is Multiplexor?
      ]
      .right-column[

        * A Multiplexor is a software or hardware that for many inputs return only one output.
        * The output is based on the input and a selector
        * Several applications in electronics and signal processing and others

        <img src="6mux.png" height="300"/>

      ]

      ---

      template:inverse

      ### For the Multiplexor problem the question is:

      ## Given the **input** and the expected **output**, <br/> which is the program?

      ---

      Introduction
      ============

      ### **Interpret** and **evaluate** the population (of trees) in **parallel**
      * **Terminals:** 20 or 37 boolean inputs (D0 - D36)
      * **Functions:** AND, OR, NAND, NOR
      * **Fitness:** Correctness on pseudo random sample of 2,048 of 1,048,576 (for 20-mux) or 8,192 of 137,438,953,472 (for 37-mux) fitness cases.
      * **Tournament:** 4 members run on same random sample. New samples for each tournament and each generation.
      * **Population:** 262,144
      * **Initial Population:** Random tree generation (eg ramped-half-and-half)
      * **Parameters:** 
        * 50% subtree crossover
        * 5% subtree 
        * 45% point mutation
        * Max depth 15
        * Max size 511 (20-Mux) or 1,023 (37-Mux)
      * **Termination:** 5,000 generations




      ---

      Introduction
      ============

      ### There are two main approaches for running genetic programming in GPU:

      1. **Compile** the evolved programs and running multiple fitness cases in parallel
          
          1.1 Overhead of running the compiler in the host
      2. **Interpreting** multiple programs in parallel.
          
          2.1 Can run the program immediately

          2.2 The interpreted code is slower than the optimised compiler generated machine code

          2.3 This is the approach used in this work
      3. Mixtures are possible

      ---

      Results
      =======

      ### Solutions are found in generations 423 (20-Mux) and 2,866 (37-Mux).


      <img src="generationsvsfitness.png" height="430"/>

      ---

      Conclusion
      ========== 

      * Solved the 20-bits Multiplexor
          * 1,048,576 fitness cases
          * Has never been solved by tree GP before
          * Previously estimated time: more than **4 years**
          * GPU has consistently done it in less than **an hour**

      * Solved the 37-bits Multiplexor
          * 137,438,953,472 fitness cases
          * Has never been attempted before
          * GPU solves it in under **a day**

      ---

      template: inverse
      #Thanks

    </textarea>
    <script src="remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>